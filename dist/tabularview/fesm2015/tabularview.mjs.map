{"version":3,"file":"tabularview.mjs","sources":["../../../projects/tabularview/src/lib/tabularview.service.ts","../../../projects/tabularview/src/lib/tabularview.component.ts","../../../projects/tabularview/src/lib/tabularview.module.ts","../../../projects/tabularview/src/public-api.ts","../../../projects/tabularview/src/tabularview.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class TabularviewService {\n\n  constructor() { }\n}\n","import { Component, Input, OnInit } from '@angular/core';\n\n\n@Component({\n  selector: 'lib-tabularview',\n  template: `\n    <div style=\"margin: 10px\">\n        <div style=\"float: right;margin:10px 0px\">\n            <input class=\"search\" type=\"text\" nz-input (ngModelChange)=\"search($event)\" [ngModel]=\"searchedText\"\n                placeholder=\"Search\" />\n            <!-- (ngModelChange)[ngModel] -->\n        </div>\n        <div class=\"tbl-header\">\n            <table cellpadding=\"0\" cellspacing=\"0\" border=\"0\">\n                <thead>\n                    <tr>\n                        <th *ngFor=\"let column of listOfColumns; let i = index\">\n                            {{ column }}\n                            <span style=\"float: right\">\n                                <img (click)=\"sort(column,i)\" style=\"width: 18px\"\n                                    src=\"https://res.cloudinary.com/senpiper/image/upload/v1642887275/align-vertical-top_qq8az2.png\"\n                                    alt=\"sort\" />\n                            </span>\n                        </th>\n                    </tr>\n                </thead>\n            </table>\n        </div>\n        <div class=\"tbl-content\">\n            <table cellpadding=\"0\" cellspacing=\"0\" border=\"0\">\n                <tbody>\n                    <tr *ngFor=\"let data of listOfData\">\n                        <td *ngFor=\"let subdata of data\">{{ subdata }}</td>\n                    </tr>\n                </tbody>\n            </table>\n        </div>\n      </div>`,\n  styles: [`\n    table{\n      width:100%;\n      table-layout: fixed;\n    }\n    .tbl-header{\n      background-color: rgba(255,255,255,0.3);\n    }\n    .tbl-content{\n      max-height:82vh;\n      overflow-x:auto;\n      margin-top: 0px;\n      border: 0.1px solid #B7b7b7;\n    }\n    th{\n      padding: 15px;\n      text-align: left;\n      font-weight: 500;\n      font-size: 14px;\n      color: #404b69;\n      text-transform: capitalize;\n      background-color:#efe9fb;\n    border: 0.1px solid #B7b7b7;\n    }\n    td{\n      padding: 15px;\n      text-align: left;\n      vertical-align:middle;\n      font-weight: 400;\n      font-size: 12px;\n      color: #404b69;\n      border-bottom: 0.5px solid #B7b7b7;\n    }\n\n\n    /* demo styles */\n\n    @import url(https://fonts.googleapis.com/css?family=Roboto:400,500,300,700);\n    body{\n      /* background: -webkit-linear-gradient(left, #25c481, #25b7c4);\n      background: linear-gradient(to right, #25c481, #25b7c4); */\n      font-family: 'Roboto', sans-serif;\n    }\n    section{\n      margin: 50px;\n    }\n\n    /* for custom scrollbar for webkit browser*/\n\n    ::-webkit-scrollbar {\n        width: 6px;\n    } \n    ::-webkit-scrollbar-track {\n        -webkit-box-shadow: inset 0 0 6px rgba(0,0,0,0.3); \n    } \n    ::-webkit-scrollbar-thumb {\n        -webkit-box-shadow: inset 0 0 6px rgba(0,0,0,0.3); \n    }\n    .search:focus-visible {\n        outline: 0.5px solid #C3B7E4;\n    }\n    .search {\n        height: 32px;\n        width: 300px;\n        border-radius: 2px;\n        border: 0.5px solid #B7b7b7;\n    }\n  `]\n})\nexport class TabularviewComponent implements OnInit {\n\n  @Input('column') column: string[] = [];\n  @Input('row') row: string[][] = [];\n  searchedText = '';\n  lastSort = { direction: '', index: 0 };\n  listOfColumns = ['Name', 'Age', 'Address'];\n  Data = [\n    [\n      'John Brown',\n      32,\n      'New York No. 1 Lake Park'\n    ],\n    [\n      'Jim Green',\n      42,\n      'London No. 1 Lake Park'\n    ],\n    [\n      'Joe Black',\n      32,\n      'Sidney No. 1 Lake Park'\n    ],\n    [\n      'Jim Red',\n      32,\n      'London No. 2 Lake Park'\n    ],\n  ];\n  listOfData = this.Data;\n  ngOnInit(): void { \n    console.log(this.column, this.row)\n    if (this.column.length > 0) {\n      this.listOfColumns = this.column;\n    }\n    if(this.row.length > 0){\n      this.Data = this.row;\n      this.listOfData = this.Data;\n    }\n  }\n\n  getNewDirection(i: number): string {\n    let value = 'asc'\n    if (i === this.lastSort.index) {\n      if (this.lastSort.direction == '') {\n        value = 'asc'\n      }\n      if (this.lastSort.direction == 'asc') {\n        value = 'des'\n      }\n    }\n    return value;\n  }\n\n  arrayMove(arr: any, oldIndex: any, newIndex: number): any {\n    if (newIndex >= arr.length) {\n      var k = newIndex - arr.length + 1;\n      while (k--) {\n        arr.push(undefined);\n      }\n    }\n    arr.splice(newIndex, 0, arr.splice(oldIndex, 1)[0]);\n    return arr;\n  };\n\n  sort(column: string, index: number): void {\n    const newDirection = this.getNewDirection(index);\n    let currentIndex: any, nextIndex: any;\n    let switching = true;\n    let shouldSwitch = false;\n    while (switching) {\n      switching = false;\n      for (let i = 0; i < (this.Data.length - 1); i++) {\n        currentIndex = i;\n        nextIndex = i + 1;\n        shouldSwitch = false;\n        if (newDirection == \"asc\") {\n          if (JSON.stringify(this.Data[i][index]).toLowerCase() > JSON.stringify(this.Data[i + 1][index]).toLowerCase()) {\n            shouldSwitch = true;\n            break;\n          }\n        } else if (newDirection == \"des\") {\n          if (JSON.stringify(this.Data[i][index]).toLowerCase() < JSON.stringify(this.Data[i + 1][index]).toLowerCase()) {\n            shouldSwitch = true;\n            break;\n          }\n        }\n      }\n      if (shouldSwitch) {\n        this.Data = this.arrayMove(this.Data, currentIndex, nextIndex)\n        switching = true;\n      }\n    }\n    this.lastSort = { direction: newDirection, index: index };\n    console.log(this.Data, column, index)\n  }\n\n  search(e: any): void {\n    console.log(e)\n    this.searchedText = e;\n    var listOfDisplayData = this.Data.filter((item: any) => JSON.stringify(item).toLowerCase().includes(this.searchedText.toLowerCase()));\n    if (this.searchedText == '') {\n      this.listOfData = this.Data;\n    } else {\n      this.listOfData = listOfDisplayData;\n    }\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { TabularviewComponent } from './tabularview.component';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\n@NgModule({\n  declarations: [\n    TabularviewComponent\n  ],\n  imports: [\n    CommonModule,\n    FormsModule\n  ],\n  exports: [\n    TabularviewComponent\n  ]\n})\n  \nexport class TabularviewModule { }\n","/*\n * Public API Surface of tabularview\n */\n\nexport * from './lib/tabularview.service';\nexport * from './lib/tabularview.component';\nexport * from './lib/tabularview.module';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":[],"mappings":"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"}